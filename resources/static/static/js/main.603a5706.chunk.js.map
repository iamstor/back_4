{"version":3,"sources":["vt-logo.png","LoginPage/LoginContainer.js","LoginPage/LoginPage.js","MainPage/InputX.js","MainPage/InputR.js","MainPage/CanvasComponent.js","MainPage/ResultTable.js","MainPage/MainContainer.js","MainPage/MainPage.js","RegisterPage/RegisterContainer.js","RegisterPage/RegisterPage.js","App.js","reducers.js","middlewares/loginMiddleware.js","middlewares/registerMiddleware.js","middlewares/mainMiddleware.js","middlewares/middlewares.js","store.js","index.js"],"names":["module","exports","LoginContainer","sendLoginRequest","props","dispatch","type","value","history","redirectToRegister","push","className","this","login","onChange","event","target","replace","password","error","disabled","formCorrect","onClick","React","Component","connect","store","user","appState","loginState","LoginPage","withRouter","InputX","name","id","e","checked","x","htmlFor","mainState","xField","InputR","r","rField","CanvasComponent","ref","height","width","handleClick","canvas","refs","i","updateCanvas","prevProps","prevState","snapshot","clear","drawArea","drawAxis","points","point","drawPoint","y","ch","ctx","getContext","h","w","strokeStyle","lineWidth","beginPath","moveTo","lineTo","drawDigitsX","stroke","drawDigitsY","t","j","fillStyle","arc","Math","PI","fill","clearRect","obj","Number","pageX","window","pageXOffset","getBoundingClientRect","toFixed","pageY","pageYOffset","color","drawing","ResultTable","changeButton","item","saveButton","deleteButton","xChange","yChange","result","concat","sort","a","b","date","pointHistoryElements","key","currentPoint","isCheck","formatDate","Date","getDay","getMonth","getFullYear","getHours","getMinutes","getSeconds","MainContainer","exit","placeholder","yField","MainPage","RegisterContainer","redirectToLogin","register","loginError","rPassword","passwordError","registerState","RegisterPage","App","exact","path","component","Header","href","rel","src","logo","alt","combineReducers","state","action","Object","assign","length","match","getState","req","XMLHttpRequest","open","DEFAULT_URL","onload","handleLoginResponse","responseText","onerror","alert","setRequestHeader","send","text","JSON","parse","status","localStorage","setItem","loginMiddleware","next","handleRegisterResponse","stringify","registerMiddleware","updateDrawing","array","getPoints","handleUpdate","addPoint","updatePoint","deletePoint","startsWith","response","answer","mainMiddleware","applyMiddleware","initialState","getItem","createStore","reducers","middleware","location","host","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.603a5706.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/vt-logo.fd44b21d.png\";","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass LoginContainer extends React.Component{\r\n    render() {\r\n        return(\r\n            <div className=\"main\">\r\n                <h1>Добро пожаловать на сайт</h1>\r\n                <h2>Имя пользователя</h2>\r\n                <input type=\"text\" value={this.props.login}\r\n                       onChange={event => this.props.dispatch({\r\n                           type: \"LOGIN_SET_LOGIN\",\r\n                           value: event.target.value.replace(\" \", \"\")})}/>\r\n                <h2>Пароль</h2>\r\n                <input type=\"password\" value={this.props.password}\r\n                       onChange={event => this.props.dispatch({\r\n                           type: \"LOGIN_SET_PASSWORD\",\r\n                           value: event.target.value})}/>\r\n                <br/>\r\n                <div className={!this.props.error? 'hidden' : 'warn'}>\r\n                    Неверное имя пользователя или пароль\r\n                </div>\r\n                <button className=\"submit-button\" disabled={!this.props.formCorrect}\r\n                        onClick={this.sendLoginRequest}>Войти</button>\r\n                <button className=\"submit-button\" onClick={this.redirectToRegister}>Регистрация</button>\r\n            </div>\r\n        )\r\n    }\r\n    sendLoginRequest = ()=>{\r\n        this.props.dispatch({type:\"APP_LOGIN\", value:{history: this.props.history}})\r\n    };\r\n\r\n    redirectToRegister = ()=>{this.props.history.push(\"/register\")};\r\n\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n        login: store.loginState.login,\r\n        password: store.loginState.password,\r\n        error: store.loginState.error,\r\n        formCorrect: store.loginState.formCorrect\r\n    }\r\n};\r\nexport default connect(mapStateToProps)(LoginContainer)","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport LoginContainer from \"./LoginContainer\";\r\n\r\n\r\nconst LoginPage = withRouter((props)=>{\r\n    return(<LoginContainer history={props.history}/>)\r\n});\r\n\r\nexport default LoginPage;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass InputX extends React.Component{\r\n    render() {\r\n        return(\r\n            <table className=\"input-table\">\r\n                <tr>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"-3\" name=\"x\" id=\"x_-3\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_X\",value: e.target.value})}\r\n                               checked={this.props.x === -3} />\r\n                        <label htmlFor=\"x_-3\">-3</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"-2\" name=\"x\" id=\"x_-2\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_X\",value: e.target.value})}\r\n                               checked={this.props.x === -2} />\r\n                        <label htmlFor=\"x_-2\">-2</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"-1\" name=\"x\" id=\"x_-1\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_X\",value: e.target.value})}\r\n                               checked={this.props.x === -1} />\r\n                        <label htmlFor=\"x_-1\">-1</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"0\" name=\"x\" id=\"x_0\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_X\",value: e.target.value})}\r\n                               checked={this.props.x === 0} />\r\n                        <label htmlFor=\"x_0\">0</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"1\" name=\"x\" id=\"x_1\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_X\",value: e.target.value})}\r\n                               checked={this.props.x === 1} />\r\n                        <label htmlFor=\"x_1\">1</label>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"2\" name=\"x\" id=\"x_2\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_X\",value: e.target.value})}\r\n                               checked={this.props.x === 2} />\r\n                        <label htmlFor=\"x_2\">2</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"3\" name=\"x\" id=\"x_3\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_X\",value: e.target.value})}\r\n                               checked={this.props.x === 3} />\r\n                        <label htmlFor=\"x_3\">3</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"4\" name=\"x\" id=\"x_4\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_X\",value: e.target.value})}\r\n                               checked={this.props.x === 4} />\r\n                        <label htmlFor=\"x_4\">4</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"5\" name=\"x\" id=\"x_5\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_X\",value: e.target.value})}\r\n                               checked={this.props.x === 5} />\r\n                        <label htmlFor=\"x_5\">5</label>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        x: store.mainState.xField,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(InputX)\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass InputR extends React.Component{\r\n    render() {\r\n        return(\r\n            <table className=\"input-table\">\r\n                <tr>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"0.5\" name=\"r\" id=\"r_0.5\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_R\",value: e.target.value})}\r\n                               checked={this.props.r === 0.5} />\r\n                        <label htmlFor=\"r_0.5\">0.5</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"1\" name=\"r\" id=\"r_1\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_R\",value: e.target.value})}\r\n                               checked={this.props.r === 1} />\r\n                        <label htmlFor=\"r_1\">1</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"1.5\" name=\"r\" id=\"r_1.5\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_R\",value: e.target.value})}\r\n                               checked={this.props.r === 1.5} />\r\n                        <label htmlFor=\"r_1.5\">1.5</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"2\" name=\"r\" id=\"r_2\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_R\",value: e.target.value})}\r\n                               checked={this.props.r === 2} />\r\n                        <label htmlFor=\"r_2\">2</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"2.5\" name=\"r\" id=\"r_2.5\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_R\",value: e.target.value})}\r\n                               checked={this.props.r === 2.5} />\r\n                        <label htmlFor=\"r_2.5\">2.5</label>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"3\" name=\"r\" id=\"r_3\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_R\",value: e.target.value})}\r\n                               checked={this.props.r === 3} />\r\n                        <label htmlFor=\"r_3\">3</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"3.5\" name=\"r\" id=\"r_3.5\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_R\",value: e.target.value})}\r\n                               checked={this.props.r === 3.5} />\r\n                        <label htmlFor=\"r_3.5\">3.5</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"4\" name=\"r\" id=\"r_4\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_R\",value: e.target.value})}\r\n                               checked={this.props.r === 4} />\r\n                        <label htmlFor=\"r_4\">4</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"4.5\" name=\"r\" id=\"r_4.5\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_R\",value: e.target.value})}\r\n                               checked={this.props.r === 4.5} />\r\n                        <label htmlFor=\"r_4.5\">4.5</label>\r\n                    </td>\r\n                    <td>\r\n                        <input type=\"radio\" value=\"5\" name=\"r\" id=\"r_5\"\r\n                               onChange={(e) => this.props.dispatch({type:\"MAIN_SET_R\",value: e.target.value})}\r\n                               checked={this.props.r === 5} />\r\n                        <label htmlFor=\"r_5\">5</label>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        r: store.mainState.rField,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(InputR)","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass CanvasComponent extends React.Component{\r\n    render() {\r\n        return(\r\n            <div className=\"canvas-div\">\r\n                <canvas ref=\"canvas\" height=\"450px\" width=\"450px\" onClick={(event => this.handleClick(event))}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.canvas = this.refs.canvas;\r\n        this.i = 40;\r\n        this.updateCanvas();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        this.updateCanvas();\r\n    }\r\n\r\n    updateCanvas(){\r\n        this.clear(this.canvas);\r\n        this.drawArea(this.props.r, this.i, this.canvas);\r\n        this.drawAxis(this.i, this.canvas);\r\n        for (let point of this.props.points){\r\n            this.drawPoint(point.x, point.y, point.ch?'lime':'red', this.i, this.canvas)\r\n        }\r\n    }\r\n\r\n    drawAxis(i, canvas) {\r\n        const ctx = canvas.getContext('2d');\r\n        let h = canvas.height;\r\n        let w = canvas.width;\r\n        ctx.strokeStyle = \"black\";\r\n        ctx.lineWidth = 2;\r\n        ctx.beginPath();\r\n        ctx.moveTo(w/2, h);\r\n        ctx.lineTo(w/2, 0);\r\n        ctx.lineTo(w/2+3, 7);\r\n        ctx.moveTo(w/2, 0);\r\n        ctx.lineTo(w/2-3, 7);\r\n        this.drawDigitsX(ctx, i, w, h);\r\n        ctx.stroke();\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, h/2);\r\n        ctx.lineTo(w, h/2);\r\n        ctx.lineTo(w-7, h/2+3);\r\n        ctx.moveTo(w, h/2);\r\n        ctx.lineTo(w-7, h/2-3);\r\n        this.drawDigitsY(ctx, i, w, h);\r\n        ctx.stroke();\r\n        ctx.strokeStyle = \"grey\";\r\n        ctx.lineWidth = 1;\r\n        ctx.moveTo(w/2-3*i, h/2-5*i);\r\n        ctx.lineTo(w/2+5*i, h/2-5*i);\r\n        ctx.lineTo(w/2+5*i, h/2+5*i);\r\n        ctx.lineTo(w/2-3*i, h/2+5*i);\r\n        ctx.lineTo(w/2-3*i, h/2-5*i);\r\n        ctx.stroke();\r\n    }\r\n    drawDigitsX(ctx, i, w, h) {\r\n        let t=w/2;\r\n        for (let j=0; j<5; j++){\r\n            t+=i;\r\n            ctx.moveTo(t, h/2+3);\r\n            ctx.lineTo(t, h/2-3)\r\n        }\r\n        t=w/2;\r\n        for (let j=0; j<5; j++){\r\n            t-=i;\r\n            ctx.moveTo(t, h/2+3);\r\n            ctx.lineTo(t, h/2-3)\r\n        }\r\n    }\r\n    drawDigitsY(ctx, i, w, h) {\r\n        let t=h/2;\r\n        for (let j=0; j<5; j++){\r\n            t+=i;\r\n            ctx.moveTo(w/2+3, t);\r\n            ctx.lineTo(w/2-3, t);\r\n        }\r\n        t=h/2;\r\n        for (let j=0; j<5; j++){\r\n            t-=i;\r\n            ctx.moveTo(w/2+3, t);\r\n            ctx.lineTo(w/2-3, t);\r\n        }\r\n    }\r\n    drawArea(r, i, canvas) {\r\n        const ctx = canvas.getContext('2d');\r\n        let h = canvas.height;\r\n        let w = canvas.width;\r\n        ctx.strokeStyle = \"#007765\";\r\n        ctx.fillStyle = \"#007765\";\r\n        ctx.beginPath();\r\n        ctx.arc(w/2,h/2,r*i,0,Math.PI/2*3,true);\r\n        ctx.moveTo(w/2, h/2-r*i);\r\n        ctx.lineTo(w/2-r/2*i, h/2);\r\n        ctx.lineTo(w/2, h/2);\r\n        ctx.lineTo(w/2, h/2+r/2*i);\r\n        ctx.lineTo(w/2+r*i, h/2+r/2*i);\r\n        ctx.lineTo(w/2+r*i, h/2);\r\n        ctx.fill();\r\n    }\r\n\r\n    clear(canvas){\r\n        canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);\r\n    }\r\n    handleClick(event){\r\n        let obj = event.target;\r\n        let x = Number(((event.pageX - window.pageXOffset - obj.getBoundingClientRect().x - obj.width/2)/this.i).toFixed(2));\r\n        let y = Number((-(event.pageY - window.pageYOffset - obj.getBoundingClientRect().y - obj.height/2)/this.i).toFixed(2));\r\n        if(!(x<-3||x>5||y<-5||y>5)){\r\n            this.props.dispatch({type: \"MAIN_ADD_POINT\", value:{x:x,y:y,r:this.props.r}})\r\n        }\r\n    }\r\n    drawPoint(x, y, color, i, canvas) {\r\n        let ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = color;\r\n        ctx.beginPath();\r\n        ctx.arc(canvas.width/2+x*i,canvas.height/2-y*i,2,0,Math.PI*2, true);\r\n        ctx.fill();\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        points: store.appState.drawing,\r\n        r: store.mainState.rField,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(CanvasComponent);","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass ResultTable extends React.Component{\r\n\r\n    render() {\r\n        let result = [];\r\n        let points = this.props.points.concat().sort((a,b)=>b.date-a.date);\r\n        for(let item of points){\r\n            let history = item.pointHistoryElements.concat().sort((a,b)=>b.date-a.date);\r\n            result.push(\r\n                <tr key={item.id}>\r\n                    <td>{this.props.currentPoint===item.id?this.xChange() : history[0].x}</td>\r\n                    <td>{this.props.currentPoint===item.id?this.yChange() : history[0].y}</td>\r\n                    <td>{item.r}</td>\r\n                    <td>{history[0].isCheck ? \"Да\":\"Нет\"}</td>\r\n                    <td>{this.props.currentPoint===item.id?this.saveButton(item): formatDate(new Date(item.date))}</td>\r\n                    <td>{this.props.currentPoint===item.id?this.deleteButton(item) :this.changeButton(item)}</td>\r\n                </tr>\r\n            )}\r\n        return(\r\n            <div>\r\n                <h1>История запросов</h1>\r\n                <table className=\"result-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>Координата X</th>\r\n                        <th>Координата Y</th>\r\n                        <th>Радиус</th>\r\n                        <th>Попадание</th>\r\n                        <th>Создано</th>\r\n                        <th>Редактирование</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>{result}</tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n    changeButton = (item)=>(<button className=\"r-button\" onClick={event => {this.props.dispatch({\r\n        type: \"MAIN_SET_CURRENT_POINT\",\r\n        value: item})}}>Изменить</button>);\r\n\r\n    saveButton = (item)=>(<button className=\"r-button\" onClick={event => {\r\n        this.props.dispatch({type: \"MAIN_UPDATE_POINT\", value: item})}}>Сохранить</button>);\r\n\r\n    deleteButton = (item)=>(<button className=\"r-button\" onClick={event => {\r\n        this.props.dispatch({type: \"MAIN_DELETE_POINT\", value: item})}}>Удалить</button>);\r\n\r\n    xChange = ()=>(<input type=\"text\" className=\"change-input\" value={this.props.x} onChange={event => this.props.dispatch({type: \"MAIN_SET_CHANGE_X\", value: event.target.value})}/>);\r\n    yChange = ()=>(<input type=\"text\" className=\"change-input\" value={this.props.y} onChange={event => this.props.dispatch({type: \"MAIN_SET_CHANGE_Y\", value: event.target.value})}/>)\r\n}\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        points: store.appState.points,\r\n        currentPoint: store.mainState.currentPoint,\r\n        x:store.mainState.xChange,\r\n        y:store.mainState.yChange\r\n    }\r\n};\r\n\r\n\r\nconst formatDate = (date)=>{\r\n    return `${fill(date.getDay()+22)}.${fill(date.getMonth()+1)}.${fill(date.getFullYear())},\\n\r\n     ${fill(date.getHours())}:${fill(date.getMinutes())}:${fill(date.getSeconds())}`\r\n};\r\nconst fill = (item)=>{\r\n    return Number(item)<10? \"0\"+item : \"\"+item;\r\n};\r\n\r\nexport default connect(mapStateToProps)(ResultTable)","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport InputX from \"./InputX\";\r\nimport InputR from \"./InputR\";\r\nimport CanvasComponent from \"./CanvasComponent\";\r\nimport ResultTable from \"./ResultTable\";\r\n\r\nclass MainContainer extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        if(this.props.user===null) this.props.history.push(\"/login\");\r\n        else this.props.dispatch({type: \"APP_GET_POINTS\", value:{history: this.props.history}})\r\n    }\r\n    render() {\r\n        return(\r\n            <div className=\"main\">\r\n                <h2>Вы вошли как {this.props.user}</h2>\r\n                <h1>Определение попадания точки в область</h1>\r\n                <CanvasComponent/>\r\n                <h2>Координата X</h2>\r\n                <InputX/>\r\n                <h2>Координата Y</h2>\r\n                <input type=\"text\" value={this.props.y} placeholder=\"от -5 до 5\" onChange={event => this.props.dispatch({\r\n                    type: \"MAIN_SET_Y\",\r\n                    value: event.target.value.replace(\",\",\".\")})}/>\r\n                <h2>Радиус</h2>\r\n                <InputR/>\r\n                <button className=\"submit-button\" onClick={()=>this.props.dispatch({\r\n                    type: \"MAIN_ADD_POINT\",\r\n                    value:{x: this.props.x, y:this.props.y, r:this.props.r}\r\n                })} disabled={this.props.y===\"\"||this.props.y===\"-\"||this.props.y===\".\"}>Проверить</button>\r\n                <button className=\"submit-button\" onClick={this.exit}>Выйти</button><br/>\r\n                <ResultTable/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    exit = ()=>{\r\n        this.props.dispatch({type: \"APP_LOGOUT\", value: {history: this.props.history}});\r\n    }\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n        x: store.mainState.xField,\r\n        y: store.mainState.yField,\r\n        r: store.mainState.rField,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(MainContainer);","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport MainContainer from \"./MainContainer\";\r\n\r\nconst MainPage = withRouter((props)=>{\r\n    return(<MainContainer history={props.history} store={props.store}/>)\r\n});\r\n\r\nexport default MainPage;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass RegisterContainer extends React.Component{\r\n    render() {\r\n        return(\r\n            <div className=\"main\">\r\n                <h1>Регистрация</h1>\r\n                <h2>Имя пользователя</h2>\r\n                <input type=\"text\" value={this.props.login}\r\n                       onChange={event => this.props.dispatch({\r\n                           type: \"REGISTER_SET_LOGIN\",\r\n                           value: event.target.value.replace(\" \", \"\")})}/>\r\n                <div className={!this.props.loginError? 'hidden' : 'warn'}>\r\n                    Пользователь с таким именем уже существует\r\n                </div>\r\n                <h2>Пароль</h2>\r\n                <input type=\"password\" value={this.props.password}\r\n                       onChange={event => this.props.dispatch({\r\n                           type:\"REGISTER_SET_PASSWORD\",\r\n                           value: event.target.value})}/>\r\n                <h2>Повторите пароль</h2>\r\n                <input type=\"password\" value={this.props.rPassword}\r\n                       onChange={event => this.props.dispatch({\r\n                           type:\"REGISTER_SET_R_PASSWORD\",\r\n                           value: event.target.value})}/><br/>\r\n                <div className={!this.props.passwordError? 'hidden' : 'warn'}>\r\n                    Пароли не совпадают\r\n                </div>\r\n                <button className=\"submit-button\" onClick={this.register} disabled={!this.props.formCorrect}>Регистрация</button>\r\n                <button className=\"submit-button\" onClick={this.redirectToLogin}>Назад</button>\r\n            </div>\r\n        )\r\n    }\r\n    redirectToLogin = ()=>{this.props.history.push(\"/login\")};\r\n\r\n    register = ()=>{\r\n       this.props.dispatch({type: \"APP_REGISTER\", value:{history: this.props.history}})\r\n    };\r\n}\r\n\r\nconst mapStateToProps = function(store) {\r\n    return {\r\n        user: store.appState.user,\r\n        login: store.registerState.login,\r\n        password: store.registerState.password,\r\n        rPassword: store.registerState.rPassword,\r\n        passwordError: store.registerState.passwordError,\r\n        loginError: store.registerState.loginError,\r\n        formCorrect: store.registerState.formCorrect\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(RegisterContainer);\r\n","import React from \"react\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport RegisterContainer from \"./RegisterContainer\";\r\n\r\nconst RegisterPage = withRouter(({history})=>{\r\n    return(<RegisterContainer history={history}/>)\r\n});\r\n\r\n\r\nexport default RegisterPage;","import React from 'react';\r\nimport { Switch, Route} from \"react-router-dom\";\r\nimport \"./style.scss\"\r\nimport logo from \"./vt-logo.png\"\r\nimport LoginPage from \"./LoginPage/LoginPage\";\r\nimport MainPage from \"./MainPage/MainPage\";\r\nimport RegisterPage from \"./RegisterPage/RegisterPage\";\r\n\r\n\r\nclass App extends React.Component{\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                <Header/>\r\n                <Switch>\r\n                    <Route exact path=\"/login\" component={LoginPage}/>\r\n                    <Route exact path=\"/register\" component={RegisterPage}/>\r\n                    <Route path=\"/\" component={MainPage}/>\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst Header = ()=>{\r\n    return(<div className=\"head\">\r\n        <span id=\"head-title\">\r\n            Лабораторная работа №4. Вариант 2180\r\n        </span>\r\n        <a href=\"http://se.ifmo.ru\" target=\"_blank\" rel=\"noopener noreferrer\"> <img src={logo} alt=\"logo\"/></a><br/>\r\n        <span id=\"head-author\">\r\n            Выполнил студент группы P3214 Гораш Вячеслав Игоревич\r\n   </span>\r\n    </div>)\r\n};\r\n\r\n\r\nexport default App;\r\n","import {combineReducers} from \"redux\";\r\n\r\nconst appReducer = (state={}, action)=>{\r\n    switch (action.type) {\r\n        case(\"APP_LOGIN_SUCCESS\"):{\r\n            return Object.assign({}, state, {user: action.value});\r\n        }\r\n        case(\"APP_LOGOUT\"):{\r\n            return Object.assign({}, state, {user: null});\r\n        }\r\n        case(\"APP_UPDATE_POINTS_SUCCESS\"):{\r\n            return Object.assign({}, state, {points: action.value});\r\n        }\r\n        case(\"APP_UPDATE_DRAWING_SUCCESS\"):{\r\n            return Object.assign({}, state, {drawing: action.value});\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\nconst loginReducer = (state={}, action)=>{\r\n    switch (action.type) {\r\n        case(\"LOGIN_SET_LOGIN\"):{\r\n            return Object.assign({}, state, {login: action.value, formCorrect: action.value.length>0&&state.password.length>0});\r\n        }\r\n        case(\"LOGIN_SET_PASSWORD\"):{\r\n            return Object.assign({}, state, {password: action.value, formCorrect: action.value.length>0&&state.login.length>0});\r\n        }\r\n        case(\"LOGIN_SET_ERROR\"):{\r\n            return Object.assign({}, state, {error: action.value});\r\n        }\r\n        case(\"APP_LOGIN_SUCCESS\"):{\r\n            return Object.assign({}, state, {error: false, login: \"\", password: \"\", formCorrect: false});\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\nconst registerReducer = (state={}, action)=>{\r\n    switch (action.type) {\r\n        case(\"REGISTER_SET_LOGIN\"):{\r\n            return Object.assign({}, state, {login: action.value,\r\n                formCorrect: action.value.length>0&&state.password.length>0&&state.rPassword.length>0});\r\n        }\r\n        case(\"REGISTER_SET_PASSWORD\"):{\r\n            return Object.assign({}, state, {password: action.value,\r\n                formCorrect: action.value.length>0&&state.login.length>0&&state.rPassword.length>0});\r\n        }\r\n        case(\"REGISTER_SET_R_PASSWORD\"):{\r\n            return Object.assign({}, state, {rPassword: action.value,\r\n                formCorrect: action.value.length>0&&state.login.length>0&&state.password.length>0});\r\n        }\r\n        case(\"REGISTER_SET_LOGIN_ERROR\"):{\r\n            return Object.assign({}, state, {loginError: action.value});\r\n        }\r\n        case(\"REGISTER_SET_PASSWORD_ERROR\"):{\r\n            return Object.assign({}, state, {passwordError: action.value});\r\n        }\r\n        case(\"APP_REGISTER_SUCCESS\"):{\r\n            return {login: \"\", password: \"\", rPassword: \"\", loginError: false, passwordError: false, formCorrect: false}\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\nconst mainReducer = (state={}, action)=>{\r\n    switch (action.type) {\r\n        case \"MAIN_SET_X\":{\r\n            return Object.assign({}, state, {xField: Number(action.value)});\r\n        }\r\n        case \"MAIN_SET_Y\":{\r\n            if((Number(action.value)||(Number(action.value)===0&&action.value!==\"\"))\r\n                &&!action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-5&&Number(action.value)<=5)\r\n            {\r\n                return Object.assign({}, state, {yField: Number(action.value)});\r\n            }\r\n            if(action.value===\"-\"||action.value===\"\"||action.value===\".\"||\r\n                (action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-5&&Number(action.value)<=5)){\r\n                return Object.assign({}, state, {yField: action.value});\r\n            }\r\n            return state;\r\n        }\r\n        case \"MAIN_SET_R\":{\r\n            return Object.assign({}, state, {rField: Number(action.value)});\r\n        }\r\n        case \"APP_LOGOUT\":{\r\n            return {xField: -3, yField: \"\", rField: 0.5}\r\n        }\r\n        case \"MAIN_SET_CHANGE_X\":{\r\n            if((Number(action.value)||(Number(action.value)===0&&action.value!==\"\"))\r\n                &&!action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-3&&Number(action.value)<=5)\r\n            {\r\n                return Object.assign({}, state, {xChange: Number(action.value)});\r\n            }\r\n            if(action.value===\"-\"||action.value===\"\"||action.value===\".\"||\r\n                (action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-3&&Number(action.value)<=5)){\r\n                return Object.assign({}, state, {xChange: action.value});\r\n            }\r\n            return state;\r\n        }\r\n        case \"MAIN_SET_CHANGE_Y\":{\r\n            if((Number(action.value)||(Number(action.value)===0&&action.value!==\"\"))\r\n                &&!action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-5&&Number(action.value)<=5)\r\n            {\r\n                return Object.assign({}, state, {yChange: Number(action.value)});\r\n            }\r\n            if(action.value===\"-\"||action.value===\"\"||action.value===\".\"||\r\n                (action.value.match(/^-*[0-9]*\\.$/)&&Number(action.value)>=-5&&Number(action.value)<=5)){\r\n                return Object.assign({}, state, {yChange: action.value});\r\n            }\r\n            return state;\r\n        }\r\n        case \"MAIN_SET_CURRENT_POINT\":{\r\n            return Object.assign({}, state, {currentPoint: Number(action.value.id)});\r\n        }\r\n        default:{\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nexport default combineReducers({\r\n    appState: appReducer,\r\n    loginState: loginReducer,\r\n    registerState: registerReducer,\r\n    mainState: mainReducer\r\n})","import {DEFAULT_URL} from \"../index\";\r\n\r\nconst loginMiddleware = store => next => action =>{\r\n    switch (action.type) {\r\n        case \"APP_LOGIN\":{\r\n            sendLoginRequest(store, action.value.history);\r\n            return(next(action))\r\n        }\r\n        default:{next(action)}\r\n    }\r\n};\r\nconst sendLoginRequest = (store, history)=>{\r\n    let user = {login: store.getState().loginState.login, password: store.getState().loginState.password};\r\n    let req = new XMLHttpRequest();\r\n    req.open(\"POST\", `${DEFAULT_URL}/login`, true);\r\n    req.onload = ()=>handleLoginResponse(req.responseText, store, history);\r\n    req.onerror = ()=> alert(\"Сервер временно недоступен\");\r\n    req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n    req.send(`username=${user.login}&password=${user.password}`);\r\n};\r\n\r\nconst  handleLoginResponse = (text, store, history)=>{\r\n    let response = JSON.parse(text);\r\n    if(response.status===200){\r\n        window.localStorage.setItem(\"user\", store.getState().loginState.login);\r\n        store.dispatch({type:\"APP_LOGIN_SUCCESS\", value:store.getState().loginState.login});\r\n        history.push(\"/\");\r\n    }\r\n    else store.dispatch({type: \"LOGIN_SET_ERROR\", value: true})\r\n};\r\n\r\nexport default loginMiddleware;","import {DEFAULT_URL} from \"../index\";\r\n\r\nconst registerMiddleware = store => next => action =>{\r\n    switch (action.type) {\r\n        case \"APP_REGISTER\":{\r\n            register(store, action.value.history);\r\n            return(next(action))\r\n        }\r\n        case \"APP_REGISTER_SUCCESS\":{\r\n            store.dispatch({type: \"LOGIN_SET_LOGIN\", value: store.getState().registerState.login});\r\n            store.dispatch({type: \"LOGIN_SET_PASSWORD\", value: store.getState().registerState.password});\r\n            store.dispatch({type: \"APP_LOGIN\", value:{history: action.value.history}});\r\n            return(next(action));\r\n        }\r\n        default:{next(action)}\r\n    }\r\n};\r\n\r\nconst register = (store, history)=>{\r\n    if(store.getState().registerState.password===store.getState().registerState.rPassword){\r\n        store.dispatch({type: \"REGISTER_SET_PASSWORD_ERROR\",value: false});\r\n        sendLoginRequest(store, history)\r\n    }\r\n    else{\r\n        store.dispatch({type: \"REGISTER_SET_PASSWORD_ERROR\",value: true});\r\n    }\r\n};\r\n\r\nconst sendLoginRequest = (store, history)=>{\r\n    let user = {login: store.getState().registerState.login, password: store.getState().registerState.password};\r\n    let req = new XMLHttpRequest();\r\n    req.open(\"POST\", `${DEFAULT_URL}/register`, true);\r\n    req.onload = ()=>handleRegisterResponse(req.responseText, store, history);\r\n    req.onerror = ()=> alert(\"Сервер временно недоступен\");\r\n    req.setRequestHeader('Content-Type', 'application/json');\r\n    req.send(JSON.stringify(user));\r\n};\r\n\r\nconst handleRegisterResponse = (text, store, history)=>{\r\n    let response = JSON.parse(text);\r\n    if(response.status===200){\r\n        store.dispatch({type: \"APP_REGISTER_SUCCESS\", value:{history: history}})\r\n    }\r\n    else store.dispatch({type: \"REGISTER_SET_LOGIN_ERROR\",value: true});\r\n};\r\n\r\nexport default registerMiddleware;","import {DEFAULT_URL} from \"../index\";\r\n\r\n\r\nconst mainMiddleware = store => next => action =>{\r\n    switch (action.type) {\r\n        case \"APP_LOGOUT\":{\r\n            let req = new XMLHttpRequest();\r\n            req.open(\"GET\", `${DEFAULT_URL}/logout`, true);\r\n            req.send();\r\n            window.localStorage.setItem(\"user\", null);\r\n            action.value.history.push(\"/login\");\r\n            return next(action)\r\n        }\r\n        case \"APP_GET_POINTS\":{\r\n            getPoints(store, action.value.history);\r\n            return next(action)\r\n        }\r\n        case \"MAIN_ADD_POINT\":{\r\n            addPoint(store, action.value);\r\n            store.dispatch({type:\"MAIN_SET_Y\", value:\"\"});\r\n            return next(action)\r\n        }\r\n        case \"APP_UPDATE_POINTS_SUCCESS\":{\r\n            updateDrawing(store,action.value,store.getState().mainState.rField);\r\n            return next(action);\r\n        }\r\n        case \"MAIN_SET_R\":{\r\n            updateDrawing(store,store.getState().appState.points,Number(action.value));\r\n            return next(action);\r\n        }\r\n        case \"MAIN_SET_CURRENT_POINT\":{\r\n            if(action.value.id!==0){\r\n                let history = action.value.pointHistoryElements.concat().sort((a,b)=>b.date-a.date);\r\n                store.dispatch({type: \"MAIN_SET_CHANGE_X\", value: \"\"+history[0].x});\r\n                store.dispatch({type: \"MAIN_SET_CHANGE_Y\", value: \"\"+history[0].y})\r\n            }\r\n            else {\r\n                store.dispatch({type: \"MAIN_SET_CHANGE_X\", value: \"\"});\r\n                store.dispatch({type: \"MAIN_SET_CHANGE_Y\", value: \"\"})\r\n            }\r\n            return next(action);\r\n        }\r\n        case \"MAIN_UPDATE_POINT\":{\r\n            let history = action.value.pointHistoryElements.concat().sort((a,b)=>b.date-a.date)[0];\r\n            if(Number(store.getState().mainState.xChange)!==Number(history.x)|| Number(store.getState().mainState.yChange)!==Number(history.y)){\r\n                updatePoint(store, {id: store.getState().mainState.currentPoint,\r\n                    x:store.getState().mainState.xChange, y:store.getState().mainState.yChange});}\r\n            else{\r\n                store.dispatch({type: \"MAIN_SET_CURRENT_POINT\", value: {id:0}})\r\n            }\r\n            return next(action);\r\n        }\r\n        case \"MAIN_DELETE_POINT\":{\r\n            deletePoint(store, action.value);\r\n            store.dispatch({type: \"MAIN_SET_CURRENT_POINT\", value: {id:0}});\r\n            return next(action);\r\n        }\r\n        default: return next(action);\r\n    }\r\n};\r\n\r\nconst updateDrawing = (store, value, r)=>{\r\n    let array = [];\r\n    for(let i of value){\r\n        let x = i.pointHistoryElements.concat().sort((a,b)=>b.date-a.date)[0].x;\r\n        let y = i.pointHistoryElements.concat().sort((a,b)=>b.date-a.date)[0].y;\r\n        array.push({x:x,y:y,ch:(x<=0 && y>=0 && y<=(2*x+r)) || (x>=0 && y>=0 && x*x+y*y<=r*r) || (x>=0 && y<=0 && x<=r && y>=-r/2)});\r\n    }\r\n    store.dispatch({type:\"APP_UPDATE_DRAWING_SUCCESS\", value: array});\r\n};\r\n\r\nconst getPoints = (store, history)=>{\r\n    let req = new XMLHttpRequest();\r\n    req.open(\"GET\", `${DEFAULT_URL}/get`, true);\r\n    req.onload = ()=>handleUpdate(req.responseText, store, history);\r\n    req.onerror = ()=>alert(\"Сервер временно недосупен\");\r\n    req.send();\r\n};\r\n\r\nconst addPoint = (store, value)=>{\r\n    let req = new XMLHttpRequest();\r\n    req.open(\"POST\", `${DEFAULT_URL}/add`, true);\r\n    req.onload = ()=>handleUpdate(req.responseText, store);\r\n    req.onerror = ()=>alert(\"Сервер временно недосупен\");\r\n    req.setRequestHeader('Content-Type', 'application/json');\r\n    req.send(JSON.stringify(value));\r\n};\r\n\r\nconst updatePoint = (store, value)=>{\r\n    let req = new XMLHttpRequest();\r\n    req.open(\"POST\", `${DEFAULT_URL}/update`, true);\r\n    req.onload = ()=>{handleUpdate(req.responseText, store); store.dispatch({type: \"MAIN_SET_CURRENT_POINT\", value: {id:0}})};\r\n    req.onerror = ()=>alert(\"Сервер временно недосупен\");\r\n    req.setRequestHeader('Content-Type', 'application/json');\r\n    req.send(JSON.stringify(value));\r\n};\r\n\r\nconst deletePoint = (store, value)=>{\r\n    let req = new XMLHttpRequest();\r\n    req.open(\"POST\", `${DEFAULT_URL}/delete`, true);\r\n    req.onload = ()=>{handleUpdate(req.responseText, store); store.dispatch({type: \"MAIN_SET_CURRENT_POINT\", value: {id:0}})};\r\n    req.onerror = ()=>alert(\"Сервер временно недосупен\");\r\n    req.setRequestHeader('Content-Type', 'application/json');\r\n    req.send(JSON.stringify({id: value.id}));\r\n};\r\n\r\n\r\nconst handleUpdate = (text, store, history=null)=>{\r\n    if(text.startsWith(\"{\")){\r\n        let response = JSON.parse(text);\r\n        if(response.status===200){\r\n            store.dispatch({type: \"APP_UPDATE_POINTS_SUCCESS\", value: response.answer})\r\n        }\r\n        else if (history){\r\n            alert(history);\r\n            store.dispatch({type: \"APP_LOGOUT\", value:{history: history}})\r\n        }\r\n    }\r\n    else store.dispatch({type: \"APP_LOGOUT\", value:{history: history}})\r\n};\r\n\r\n\r\n\r\nexport default mainMiddleware;","import {applyMiddleware} from \"redux\";\r\nimport loginMiddleware from \"./loginMiddleware\";\r\nimport registerMiddleware from \"./registerMiddleware\";\r\nimport mainMiddleware from \"./mainMiddleware\";\r\n\r\nexport default applyMiddleware(loginMiddleware, registerMiddleware, mainMiddleware);","import { createStore} from 'redux';\r\nimport reducers from './reducers';\r\nimport middleware from \"./middlewares/middlewares\";\r\n\r\n\r\nconst initialState = {\r\n    appState:{\r\n        user: window.localStorage.getItem(\"user\"),\r\n        points: [],\r\n        drawing: []\r\n    },\r\n    loginState:{\r\n        login: \"\",\r\n        password: \"\",\r\n        error: false,\r\n        formCorrect: false\r\n    },\r\n    registerState: {\r\n        login: \"\",\r\n        password: \"\",\r\n        rPassword: \"\",\r\n        loginError: false,\r\n        passwordError: false,\r\n        formCorrect: false\r\n    },\r\n    mainState: {\r\n        xField: -3,\r\n        yField: \"\",\r\n        rField: 0.5,\r\n        xChange: \"\",\r\n        yChange: \"\",\r\n        currentPoint: 0\r\n    }\r\n};\r\n\r\nconst store = createStore(reducers, initialState, middleware);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport {Provider} from 'react-redux'\r\nimport store from \"./store\";\r\n\r\nexport const DEFAULT_URL = \"http://\"+window.location.host;\r\n\r\nReactDOM.render(<BrowserRouter><Provider store={store}><App/></Provider></BrowserRouter>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}